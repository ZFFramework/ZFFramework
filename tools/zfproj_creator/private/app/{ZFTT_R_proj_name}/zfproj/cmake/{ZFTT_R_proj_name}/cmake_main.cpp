#define SDL_MAIN_HANDLED

#include "ZFCore.h"
#include "ZFCore/protocol/ZFProtocolZFMainEntry.h"

#include "ZFImpl/ZFImpl_env.h"

#if ZF_ENV_sys_Windows
#include <Windows.h>
int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow) {{ZFTT_C_lib_require_0}
    LoadLibraryA("{ZFTT_R_lib_name_0}");{ZFTT_CE}{ZFTT_C_lib_require_1}
    LoadLibraryA("{ZFTT_R_lib_name_1}");{ZFTT_CE}{ZFTT_C_lib_require_2}
    LoadLibraryA("{ZFTT_R_lib_name_2}");{ZFTT_CE}{ZFTT_C_lib_require_3}
    LoadLibraryA("{ZFTT_R_lib_name_3}");{ZFTT_CE}{ZFTT_C_lib_require_4}
    LoadLibraryA("{ZFTT_R_lib_name_4}");{ZFTT_CE}{ZFTT_C_lib_require_5}
    LoadLibraryA("{ZFTT_R_lib_name_5}");{ZFTT_CE}{ZFTT_C_lib_require_6}
    LoadLibraryA("{ZFTT_R_lib_name_6}");{ZFTT_CE}{ZFTT_C_lib_require_7}
    LoadLibraryA("{ZFTT_R_lib_name_7}");{ZFTT_CE}{ZFTT_C_lib_require_8}
    LoadLibraryA("{ZFTT_R_lib_name_8}");{ZFTT_CE}{ZFTT_C_lib_require_9}
    LoadLibraryA("{ZFTT_R_lib_name_9}");{ZFTT_CE}{ZFTT_C_lib_require_10}
    LoadLibraryA("{ZFTT_R_lib_name_10}");{ZFTT_CE}{ZFTT_C_lib_require_11}
    LoadLibraryA("{ZFTT_R_lib_name_11}");{ZFTT_CE}{ZFTT_C_lib_require_12}
    LoadLibraryA("{ZFTT_R_lib_name_12}");{ZFTT_CE}{ZFTT_C_lib_require_13}
    LoadLibraryA("{ZFTT_R_lib_name_13}");{ZFTT_CE}{ZFTT_C_lib_require_14}
    LoadLibraryA("{ZFTT_R_lib_name_14}");{ZFTT_CE}{ZFTT_C_lib_require_15}
    LoadLibraryA("{ZFTT_R_lib_name_15}");{ZFTT_CE}{ZFTT_C_lib_require_16}
    LoadLibraryA("{ZFTT_R_lib_name_16}");{ZFTT_CE}{ZFTT_C_lib_require_17}
    LoadLibraryA("{ZFTT_R_lib_name_17}");{ZFTT_CE}{ZFTT_C_lib_require_18}
    LoadLibraryA("{ZFTT_R_lib_name_18}");{ZFTT_CE}{ZFTT_C_lib_require_19}
    LoadLibraryA("{ZFTT_R_lib_name_19}");{ZFTT_CE}{ZFTT_C_lib_require_20}
    LoadLibraryA("{ZFTT_R_lib_name_20}");{ZFTT_CE}{ZFTT_C_lib_require_21}
    LoadLibraryA("{ZFTT_R_lib_name_21}");{ZFTT_CE}{ZFTT_C_lib_require_22}
    LoadLibraryA("{ZFTT_R_lib_name_22}");{ZFTT_CE}{ZFTT_C_lib_require_23}
    LoadLibraryA("{ZFTT_R_lib_name_23}");{ZFTT_CE}{ZFTT_C_lib_require_24}
    LoadLibraryA("{ZFTT_R_lib_name_24}");{ZFTT_CE}{ZFTT_C_lib_require_25}
    LoadLibraryA("{ZFTT_R_lib_name_25}");{ZFTT_CE}{ZFTT_C_lib_require_26}
    LoadLibraryA("{ZFTT_R_lib_name_26}");{ZFTT_CE}{ZFTT_C_lib_require_27}
    LoadLibraryA("{ZFTT_R_lib_name_27}");{ZFTT_CE}{ZFTT_C_lib_require_28}
    LoadLibraryA("{ZFTT_R_lib_name_28}");{ZFTT_CE}{ZFTT_C_lib_require_29}
    LoadLibraryA("{ZFTT_R_lib_name_29}");{ZFTT_CE}{ZFTT_C_lib_require_30}
    LoadLibraryA("{ZFTT_R_lib_name_30}");{ZFTT_CE}{ZFTT_C_lib_require_31}
    LoadLibraryA("{ZFTT_R_lib_name_31}");{ZFTT_CE}{ZFTT_C_impl_require_0}
    LoadLibraryA("{ZFTT_R_impl_name_0}");{ZFTT_CE}{ZFTT_C_impl_require_1}
    LoadLibraryA("{ZFTT_R_impl_name_1}");{ZFTT_CE}{ZFTT_C_impl_require_2}
    LoadLibraryA("{ZFTT_R_impl_name_2}");{ZFTT_CE}{ZFTT_C_impl_require_3}
    LoadLibraryA("{ZFTT_R_impl_name_3}");{ZFTT_CE}{ZFTT_C_impl_require_4}
    LoadLibraryA("{ZFTT_R_impl_name_4}");{ZFTT_CE}{ZFTT_C_impl_require_5}
    LoadLibraryA("{ZFTT_R_impl_name_5}");{ZFTT_CE}{ZFTT_C_impl_require_6}
    LoadLibraryA("{ZFTT_R_impl_name_6}");{ZFTT_CE}{ZFTT_C_impl_require_7}
    LoadLibraryA("{ZFTT_R_impl_name_7}");{ZFTT_CE}{ZFTT_C_impl_require_8}
    LoadLibraryA("{ZFTT_R_impl_name_8}");{ZFTT_CE}{ZFTT_C_impl_require_9}
    LoadLibraryA("{ZFTT_R_impl_name_9}");{ZFTT_CE}{ZFTT_C_impl_require_10}
    LoadLibraryA("{ZFTT_R_impl_name_10}");{ZFTT_CE}{ZFTT_C_impl_require_11}
    LoadLibraryA("{ZFTT_R_impl_name_11}");{ZFTT_CE}{ZFTT_C_impl_require_12}
    LoadLibraryA("{ZFTT_R_impl_name_12}");{ZFTT_CE}{ZFTT_C_impl_require_13}
    LoadLibraryA("{ZFTT_R_impl_name_13}");{ZFTT_CE}{ZFTT_C_impl_require_14}
    LoadLibraryA("{ZFTT_R_impl_name_14}");{ZFTT_CE}{ZFTT_C_impl_require_15}
    LoadLibraryA("{ZFTT_R_impl_name_15}");{ZFTT_CE}{ZFTT_C_impl_require_16}
    LoadLibraryA("{ZFTT_R_impl_name_16}");{ZFTT_CE}{ZFTT_C_impl_require_17}
    LoadLibraryA("{ZFTT_R_impl_name_17}");{ZFTT_CE}{ZFTT_C_impl_require_18}
    LoadLibraryA("{ZFTT_R_impl_name_18}");{ZFTT_CE}{ZFTT_C_impl_require_19}
    LoadLibraryA("{ZFTT_R_impl_name_19}");{ZFTT_CE}{ZFTT_C_impl_require_20}
    LoadLibraryA("{ZFTT_R_impl_name_20}");{ZFTT_CE}{ZFTT_C_impl_require_21}
    LoadLibraryA("{ZFTT_R_impl_name_21}");{ZFTT_CE}{ZFTT_C_impl_require_22}
    LoadLibraryA("{ZFTT_R_impl_name_22}");{ZFTT_CE}{ZFTT_C_impl_require_23}
    LoadLibraryA("{ZFTT_R_impl_name_23}");{ZFTT_CE}{ZFTT_C_impl_require_24}
    LoadLibraryA("{ZFTT_R_impl_name_24}");{ZFTT_CE}{ZFTT_C_impl_require_25}
    LoadLibraryA("{ZFTT_R_impl_name_25}");{ZFTT_CE}{ZFTT_C_impl_require_26}
    LoadLibraryA("{ZFTT_R_impl_name_26}");{ZFTT_CE}{ZFTT_C_impl_require_27}
    LoadLibraryA("{ZFTT_R_impl_name_27}");{ZFTT_CE}{ZFTT_C_impl_require_28}
    LoadLibraryA("{ZFTT_R_impl_name_28}");{ZFTT_CE}{ZFTT_C_impl_require_29}
    LoadLibraryA("{ZFTT_R_impl_name_29}");{ZFTT_CE}{ZFTT_C_impl_require_30}
    LoadLibraryA("{ZFTT_R_impl_name_30}");{ZFTT_CE}{ZFTT_C_impl_require_31}
    LoadLibraryA("{ZFTT_R_impl_name_31}");{ZFTT_CE}{ZFTT_C_lib_ext_require_0}
    LoadLibraryA("{ZFTT_R_lib_ext_name_0}");{ZFTT_CE}{ZFTT_C_lib_ext_require_1}
    LoadLibraryA("{ZFTT_R_lib_ext_name_1}");{ZFTT_CE}{ZFTT_C_lib_ext_require_2}
    LoadLibraryA("{ZFTT_R_lib_ext_name_2}");{ZFTT_CE}{ZFTT_C_lib_ext_require_3}
    LoadLibraryA("{ZFTT_R_lib_ext_name_3}");{ZFTT_CE}{ZFTT_C_lib_ext_require_4}
    LoadLibraryA("{ZFTT_R_lib_ext_name_4}");{ZFTT_CE}{ZFTT_C_lib_ext_require_5}
    LoadLibraryA("{ZFTT_R_lib_ext_name_5}");{ZFTT_CE}{ZFTT_C_lib_ext_require_6}
    LoadLibraryA("{ZFTT_R_lib_ext_name_6}");{ZFTT_CE}{ZFTT_C_lib_ext_require_7}
    LoadLibraryA("{ZFTT_R_lib_ext_name_7}");{ZFTT_CE}{ZFTT_C_lib_ext_require_8}
    LoadLibraryA("{ZFTT_R_lib_ext_name_8}");{ZFTT_CE}{ZFTT_C_lib_ext_require_9}
    LoadLibraryA("{ZFTT_R_lib_ext_name_9}");{ZFTT_CE}{ZFTT_C_lib_ext_require_10}
    LoadLibraryA("{ZFTT_R_lib_ext_name_10}");{ZFTT_CE}{ZFTT_C_lib_ext_require_11}
    LoadLibraryA("{ZFTT_R_lib_ext_name_11}");{ZFTT_CE}{ZFTT_C_lib_ext_require_12}
    LoadLibraryA("{ZFTT_R_lib_ext_name_12}");{ZFTT_CE}{ZFTT_C_lib_ext_require_13}
    LoadLibraryA("{ZFTT_R_lib_ext_name_13}");{ZFTT_CE}{ZFTT_C_lib_ext_require_14}
    LoadLibraryA("{ZFTT_R_lib_ext_name_14}");{ZFTT_CE}{ZFTT_C_lib_ext_require_15}
    LoadLibraryA("{ZFTT_R_lib_ext_name_15}");{ZFTT_CE}{ZFTT_C_lib_ext_require_16}
    LoadLibraryA("{ZFTT_R_lib_ext_name_16}");{ZFTT_CE}{ZFTT_C_lib_ext_require_17}
    LoadLibraryA("{ZFTT_R_lib_ext_name_17}");{ZFTT_CE}{ZFTT_C_lib_ext_require_18}
    LoadLibraryA("{ZFTT_R_lib_ext_name_18}");{ZFTT_CE}{ZFTT_C_lib_ext_require_19}
    LoadLibraryA("{ZFTT_R_lib_ext_name_19}");{ZFTT_CE}{ZFTT_C_lib_ext_require_20}
    LoadLibraryA("{ZFTT_R_lib_ext_name_20}");{ZFTT_CE}{ZFTT_C_lib_ext_require_21}
    LoadLibraryA("{ZFTT_R_lib_ext_name_21}");{ZFTT_CE}{ZFTT_C_lib_ext_require_22}
    LoadLibraryA("{ZFTT_R_lib_ext_name_22}");{ZFTT_CE}{ZFTT_C_lib_ext_require_23}
    LoadLibraryA("{ZFTT_R_lib_ext_name_23}");{ZFTT_CE}{ZFTT_C_lib_ext_require_24}
    LoadLibraryA("{ZFTT_R_lib_ext_name_24}");{ZFTT_CE}{ZFTT_C_lib_ext_require_25}
    LoadLibraryA("{ZFTT_R_lib_ext_name_25}");{ZFTT_CE}{ZFTT_C_lib_ext_require_26}
    LoadLibraryA("{ZFTT_R_lib_ext_name_26}");{ZFTT_CE}{ZFTT_C_lib_ext_require_27}
    LoadLibraryA("{ZFTT_R_lib_ext_name_27}");{ZFTT_CE}{ZFTT_C_lib_ext_require_28}
    LoadLibraryA("{ZFTT_R_lib_ext_name_28}");{ZFTT_CE}{ZFTT_C_lib_ext_require_29}
    LoadLibraryA("{ZFTT_R_lib_ext_name_29}");{ZFTT_CE}{ZFTT_C_lib_ext_require_30}
    LoadLibraryA("{ZFTT_R_lib_ext_name_30}");{ZFTT_CE}{ZFTT_C_lib_ext_require_31}
    LoadLibraryA("{ZFTT_R_lib_ext_name_31}");{ZFTT_CE}{ZFTT_C_impl_ext_require_0}
    LoadLibraryA("{ZFTT_R_impl_ext_name_0}");{ZFTT_CE}{ZFTT_C_impl_ext_require_1}
    LoadLibraryA("{ZFTT_R_impl_ext_name_1}");{ZFTT_CE}{ZFTT_C_impl_ext_require_2}
    LoadLibraryA("{ZFTT_R_impl_ext_name_2}");{ZFTT_CE}{ZFTT_C_impl_ext_require_3}
    LoadLibraryA("{ZFTT_R_impl_ext_name_3}");{ZFTT_CE}{ZFTT_C_impl_ext_require_4}
    LoadLibraryA("{ZFTT_R_impl_ext_name_4}");{ZFTT_CE}{ZFTT_C_impl_ext_require_5}
    LoadLibraryA("{ZFTT_R_impl_ext_name_5}");{ZFTT_CE}{ZFTT_C_impl_ext_require_6}
    LoadLibraryA("{ZFTT_R_impl_ext_name_6}");{ZFTT_CE}{ZFTT_C_impl_ext_require_7}
    LoadLibraryA("{ZFTT_R_impl_ext_name_7}");{ZFTT_CE}{ZFTT_C_impl_ext_require_8}
    LoadLibraryA("{ZFTT_R_impl_ext_name_8}");{ZFTT_CE}{ZFTT_C_impl_ext_require_9}
    LoadLibraryA("{ZFTT_R_impl_ext_name_9}");{ZFTT_CE}{ZFTT_C_impl_ext_require_10}
    LoadLibraryA("{ZFTT_R_impl_ext_name_10}");{ZFTT_CE}{ZFTT_C_impl_ext_require_11}
    LoadLibraryA("{ZFTT_R_impl_ext_name_11}");{ZFTT_CE}{ZFTT_C_impl_ext_require_12}
    LoadLibraryA("{ZFTT_R_impl_ext_name_12}");{ZFTT_CE}{ZFTT_C_impl_ext_require_13}
    LoadLibraryA("{ZFTT_R_impl_ext_name_13}");{ZFTT_CE}{ZFTT_C_impl_ext_require_14}
    LoadLibraryA("{ZFTT_R_impl_ext_name_14}");{ZFTT_CE}{ZFTT_C_impl_ext_require_15}
    LoadLibraryA("{ZFTT_R_impl_ext_name_15}");{ZFTT_CE}{ZFTT_C_impl_ext_require_16}
    LoadLibraryA("{ZFTT_R_impl_ext_name_16}");{ZFTT_CE}{ZFTT_C_impl_ext_require_17}
    LoadLibraryA("{ZFTT_R_impl_ext_name_17}");{ZFTT_CE}{ZFTT_C_impl_ext_require_18}
    LoadLibraryA("{ZFTT_R_impl_ext_name_18}");{ZFTT_CE}{ZFTT_C_impl_ext_require_19}
    LoadLibraryA("{ZFTT_R_impl_ext_name_19}");{ZFTT_CE}{ZFTT_C_impl_ext_require_20}
    LoadLibraryA("{ZFTT_R_impl_ext_name_20}");{ZFTT_CE}{ZFTT_C_impl_ext_require_21}
    LoadLibraryA("{ZFTT_R_impl_ext_name_21}");{ZFTT_CE}{ZFTT_C_impl_ext_require_22}
    LoadLibraryA("{ZFTT_R_impl_ext_name_22}");{ZFTT_CE}{ZFTT_C_impl_ext_require_23}
    LoadLibraryA("{ZFTT_R_impl_ext_name_23}");{ZFTT_CE}{ZFTT_C_impl_ext_require_24}
    LoadLibraryA("{ZFTT_R_impl_ext_name_24}");{ZFTT_CE}{ZFTT_C_impl_ext_require_25}
    LoadLibraryA("{ZFTT_R_impl_ext_name_25}");{ZFTT_CE}{ZFTT_C_impl_ext_require_26}
    LoadLibraryA("{ZFTT_R_impl_ext_name_26}");{ZFTT_CE}{ZFTT_C_impl_ext_require_27}
    LoadLibraryA("{ZFTT_R_impl_ext_name_27}");{ZFTT_CE}{ZFTT_C_impl_ext_require_28}
    LoadLibraryA("{ZFTT_R_impl_ext_name_28}");{ZFTT_CE}{ZFTT_C_impl_ext_require_29}
    LoadLibraryA("{ZFTT_R_impl_ext_name_29}");{ZFTT_CE}{ZFTT_C_impl_ext_require_30}
    LoadLibraryA("{ZFTT_R_impl_ext_name_30}");{ZFTT_CE}{ZFTT_C_impl_ext_require_31}
    LoadLibraryA("{ZFTT_R_impl_ext_name_31}");{ZFTT_CE}

    ZFFrameworkInit();

    ZFCoreArray<zfstring> params;
    ZFCoreArgSplit(params, lpCmdLine);
    if(params.count() > 0) {
        params.removeFirst();
    }
    zfint ret = ZFMainExecute(params);

    ZFFrameworkCleanup();
    return (int)ret;
}
#else // #if ZF_ENV_sys_Windows
int main(int argc, char **argv) {
    ZFFrameworkInit();

    ZFCoreArray<zfstring> params;
    for(int i = 1; i < argc; ++i) {
        params.add(argv[i]);
    }
    zfint ret = ZFMainExecute(params);

    ZFFrameworkCleanup();
    return (int)ret;
}
#endif // #if ZF_ENV_sys_Windows

